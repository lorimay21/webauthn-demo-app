(window.webpackJsonp=window.webpackJsonp||[]).push([[0],Array(18).concat([function(t,e,n){"use strict";n.r(e);var a=n(19),r=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(i);e.default=r.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={created:function(){this.$router.push({name:"top"})},computed:{pageStack:function(){return this.$store.state.navigator.stack},navOptions:function(){return this.$store.state.navigator.options}}}},function(t,e,n){"use strict";n.r(e);var a=n(21),r=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(i);e.default=r.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"top-page",data:function(){return{title:"WebAuthn Demo"}},methods:{login:function(){this.$router.push({name:"login"})},register:function(){this.$router.push({name:"register"})},reissue:function(){this.$ons.notification.alert("Temporarily unavailable.")}}}},function(t,e,n){"use strict";n.r(e);var a=n(23),r=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(i);e.default=r.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"login-page"}},function(t,e,n){"use strict";n.r(e);var a=n(25),r=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(i);e.default=r.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,r,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(59)),s=n(60);function u(t){return function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function a(r,i){try{var o=e[r](i),s=o.value}catch(t){return void n(t)}if(!o.done)return Promise.resolve(s).then((function(t){a("next",t)}),(function(t){a("throw",t)}));t(s)}("next")}))}}console.log(o),e.default={name:"register-page",components:{},data:function(){return{inputData:{username:"Luke Skywalker",emailAddress:"luke.skywalker@alderaan.net",relyingParty:{name:"Falcon Transportation Services",id:"o985n2xwm5.csb.app"},attachment:"any",attestation:"none"},userDetails:null,savedCred:null,assertion:null}},computed:{formattedUserDetails:function(){return this.userDetails?i({},this.userDetails,{id:(0,s.ab2b64)(this.userDetails.id)}):null},formattedSavedCred:function(){return this.savedCred?(0,s.encodeCredential)(this.savedCred):null},formattedAssertion:function(){return this.assertion?(0,s.encodeAssertion)(this.assertion):null}},methods:{register:(r=u(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={rp:this.inputData.relyingParty,pubKeyCredParams:o.pubKeyCredParams,timeout:6e4,attestation:this.inputData.attestation,authenticatorSelection:"any"===this.inputData.attachment?void 0:i({},o.authenticatorSelection,{authenticatorAttachment:this.inputData.attachment}),challenge:(0,s.generateChallenge)(),user:{id:(0,s.generateId)(),name:this.inputData.emailAddress,displayName:this.inputData.username}},console.log({publicKey:e}),t.prev=2,t.next=5,navigator.credentials.create({publicKey:e});case 5:n=t.sent,this.savedCred=n,this.userDetails=e.user,console.log("Credential obtained",this.savedCred),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),console.error(t.t0.message);case 14:case"end":return t.stop()}}),t,this,[[2,11]])}))),function(){return r.apply(this,arguments)}),authenticate:(a=u(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.savedCred){t.next=3;break}return alert("You must register first"),t.abrupt("return");case 3:return e={rp:this.inputData.relyingParty,pubKeyCredParams:o.pubKeyCredParams,attestation:o.attestation,timeout:6e4,challenge:(0,s.generateChallenge)(),allowCredentials:[{id:this.savedCred.rawId,type:o.credentialType}]},console.log({publicKey:e}),t.prev=5,t.next=8,navigator.credentials.get({publicKey:e});case 8:n=t.sent,console.log("Assertion obtained",n),this.assertion=n,t.next=16;break;case 13:t.prev=13,t.t0=t.catch(5),console.error(t.t0.message);case 16:case"end":return t.stop()}}),t,this,[[5,13]])}))),function(){return a.apply(this,arguments)})}}},,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return r}));var a=function(){var t=this.$createElement,e=this._self._c||t;return e("v-ons-splitter",[e("v-ons-splitter-content",[e("v-ons-navigator",{attrs:{swipeable:"","swipe-target-width":"50px","page-stack":this.pageStack,options:this.navOptions}})],1)],1)},r=[];a._withStripped=!0},function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return r}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-ons-page",[n("v-ons-toolbar"),t._v(" "),n("section",[n("div",{staticClass:"container"},[n("div",{staticClass:"text-center m-5"},[n("h1",[t._v(t._s(t.title))])]),t._v(" "),n("div",{staticClass:"pt-4"},[n("div",{staticClass:"mx-5 mb-2 text-center"},[n("b-button",{staticClass:"w-50",attrs:{variant:"primary"},on:{click:t.login}},[t._v("Login")])],1),t._v(" "),n("div",{staticClass:"mx-5 mb-2 text-center"},[n("b-button",{staticClass:"w-50",attrs:{variant:"primary"},on:{click:t.register}},[t._v("Register")])],1),t._v(" "),n("div",{staticClass:"mx-5 mb-2 text-center"},[n("b-button",{staticClass:"w-50",attrs:{variant:"primary"},on:{click:t.reissue}},[t._v("Re-issue")])],1)])])])],1)},r=[];a._withStripped=!0},function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return r}));var a=function(){var t=this.$createElement,e=this._self._c||t;return e("v-ons-page",[e("v-ons-toolbar"),this._v(" "),e("section",[e("div",{staticClass:"container"})])],1)},r=[];a._withStripped=!0},function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return r}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-ons-page",[n("v-ons-toolbar"),t._v(" "),n("section",[n("div",{staticClass:"container"},[n("h1",[t._v("Vue Webauthn demo")]),t._v(" "),n("div",[n("div",[n("label",[t._v("\n              Username\n              "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputData.username,expression:"inputData.username"}],domProps:{value:t.inputData.username},on:{input:function(e){e.target.composing||t.$set(t.inputData,"username",e.target.value)}}})])]),t._v(" "),n("div",[n("label",[t._v("\n              Email\n              "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputData.emailAddress,expression:"inputData.emailAddress"}],domProps:{value:t.inputData.emailAddress},on:{input:function(e){e.target.composing||t.$set(t.inputData,"emailAddress",e.target.value)}}})])]),t._v(" "),n("div",[n("label",[t._v("\n              RP Name\n              "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputData.relyingParty.name,expression:"inputData.relyingParty.name"}],domProps:{value:t.inputData.relyingParty.name},on:{input:function(e){e.target.composing||t.$set(t.inputData.relyingParty,"name",e.target.value)}}})])]),t._v(" "),n("div",[n("label",[t._v("\n              RP ID\n              "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputData.relyingParty.id,expression:"inputData.relyingParty.id"}],attrs:{disabled:""},domProps:{value:t.inputData.relyingParty.id},on:{input:function(e){e.target.composing||t.$set(t.inputData.relyingParty,"id",e.target.value)}}})])]),t._v(" "),n("div",[n("label",[t._v("\n              Attestation\n              "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.inputData.attestation,expression:"inputData.attestation"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.inputData,"attestation",e.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"none"}},[t._v("\n                  none (No data obtained from device)\n                ")]),t._v(" "),n("option",{attrs:{value:"indirect"}},[t._v("indirect (Generic certificate)")]),t._v(" "),n("option",{attrs:{value:"direct"}},[t._v("direct (All data)")])])])]),t._v(" "),n("div",[n("label",[t._v("\n              Attachment\n              "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.inputData.attachment,expression:"inputData.attachment"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.inputData,"attachment",e.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"any"}},[t._v("Any")]),t._v(" "),n("option",{attrs:{value:"platform"}},[t._v("Platform (e.g. TouchID)")]),t._v(" "),n("option",{attrs:{value:"cross-platform"}},[t._v("Cross-platform")])])])]),t._v(" "),n("hr"),t._v(" "),t.inputData.username&&t.inputData.emailAddress?n("button",{on:{click:t.register}},[t._v("\n            Register\n          ")]):t._e()]),t._v(" "),t.userDetails?n("div",[n("button",{on:{click:t.authenticate}},[t._v("Sign in")])]):t._e(),t._v(" "),n("div",{staticClass:"output"},[t.formattedUserDetails?n("pre",[n("code",[t._v(t._s(t.formattedUserDetails))])]):t._e(),t._v(" "),t.formattedSavedCred?n("pre",[n("span",[t._v("// send this to server to verify and enroll the key")]),t._v("\n"),n("code",[t._v(t._s(t.formattedSavedCred))]),t._v("\n\t\t\t")]):t._e(),t._v(" "),t.formattedAssertion?n("pre",[n("span",[t._v("// send this to server to verify a sign-in")]),t._v("\n"),n("code",[t._v(t._s(t.formattedAssertion))]),t._v("\n\t\t\t")]):t._e()])])])],1)},r=[];a._withStripped=!0},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(7)),r=o(n(52)),i=o(n(53));function o(t){return t&&t.__esModule?t:{default:t}}a.default.use(r.default);e.default=new r.default.Store({modules:{navigator:i.default},state:{},getters:{},actions:{},mutations:{}})},,,,,,,,,,function(t,e,n){t.exports=n(45)},function(t,e,n){"use strict";var a=c(n(33)),r=c(n(7)),i=c(n(47)),o=n(81);n(48),n(49),n(50);var s=c(n(51)),u=c(n(34)),l=c(n(54));function c(t){return t&&t.__esModule?t:{default:t}}n(79),n(80),a.default.platform.isIPhoneX()&&(document.documentElement.setAttribute("onsflag-iphonex-portrait",""),document.documentElement.setAttribute("onsflag-iphonex-landscape","")),r.default.use(o.BootstrapVue),r.default.use(i.default),new r.default({el:"#app",store:u.default,router:l.default,template:"<app></app>",components:{App:s.default}})},,,,,,function(t,e,n){"use strict";n.r(e);var a=n(29),r=n(18);for(var i in r)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(i);var o=n(3),s=Object(o.a)(r.default,a.a,a.b,!1,null,null,null);s.options.__file="src/App.vue",e.default=s.exports},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={push:function(t,e){t.stack.push(e)},pop:function(t){t.stack.length>1&&t.stack.pop()},replace:function(t,e){t.stack.pop(),t.stack.push(e)},reset:function(t,e){t.stack=Array.isArray(e)?e:[e||t.stack[0]]},options:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.options=Object.assign(t.options,e)}};e.default={namespaced:!0,state:{stack:[],options:{animation:"slide"}},getters:{},actions:{},mutations:a}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=l(n(7)),r=l(n(55)),i=l(n(34)),o=l(n(56)),s=l(n(57)),u=l(n(58));function l(t){return t&&t.__esModule?t:{default:t}}a.default.use(r.default);var c=[{path:"/",name:"top",component:o.default},{path:"/login",name:"login",component:s.default},{path:"/register",name:"register",component:u.default}],d=new r.default({routes:c});d.beforeEach((function(t,e,n){i.default.commit("navigator/reset",t.matched.map((function(t){return t.components.default}))),n()})),e.default=d},,function(t,e,n){"use strict";n.r(e);var a=n(30),r=n(20);for(var i in r)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(i);var o=n(3),s=Object(o.a)(r.default,a.a,a.b,!1,null,null,null);s.options.__file="src/pages/Top.vue",e.default=s.exports},function(t,e,n){"use strict";n.r(e);var a=n(31),r=n(22);for(var i in r)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(i);var o=n(3),s=Object(o.a)(r.default,a.a,a.b,!1,null,null,null);s.options.__file="src/pages/Login.vue",e.default=s.exports},function(t,e,n){"use strict";n.r(e);var a=n(32),r=n(24);for(var i in r)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(i);var o=n(3),s=Object(o.a)(r.default,a.a,a.b,!1,null,null,null);s.options.__file="src/pages/Register.vue",e.default=s.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.pubKeyCredParams=[{type:"public-key",alg:-7}],e.attestation="indirect",e.timeout=6e4,e.transports=["usb","nfc","ble"],e.credentialType="public-key",e.authenticatorSelection={authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"required"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t};e.ab2str=s,e.ab2b64=u,e.ab2json=l,e.ab2hex=c,e.cbor2json=function(t){return o.default.decode(c(t))},e.encodeCredential=function(t){return a({},t,{rawId:u(t.rawId),response:a({},t.response,{attestationObject:u(t.response.attestationObject),clientDataJSON:l(t.response.clientDataJSON)})})},e.encodeAssertion=function(t){return a({},t,{rawId:u(t.rawId),response:a({},t.response,{authenticatorData:u(t.response.authenticatorData),clientDataJSON:l(t.response.clientDataJSON),signature:u(t.response.signature)})})},e.generateId=function(){for(var t=new Uint8Array(16),e=0;e<16;e++)t[e]=Math.round(255*Math.random());return t},e.generateChallenge=function(){for(var t=new Uint8Array(32),e=0;e<32;e++)t[e]=Math.round(255*Math.random());return t.buffer};var r,i=n(61),o=(r=i)&&r.__esModule?r:{default:r};function s(t){return String.fromCharCode.apply(null,new Uint8Array(t))}function u(t){return btoa(s(t))}function l(t){return JSON.parse(s(t))}function c(t){return Array.prototype.map.call(new Uint8Array(t),(function(t){return("00"+t.toString(16)).slice(-2)})).join("")}},,,,,,,function(t,e){},,function(t,e){}]),[[44,1,2]]]);