(window.webpackJsonp=window.webpackJsonp||[]).push([[0],Array(18).concat([function(t,e,n){"use strict";n.r(e);var r=n(19),a=n.n(r);for(var i in r)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e.default=a.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={created:function(){this.$router.push({name:"top"})},computed:{pageStack:function(){return this.$store.state.navigator.stack},navOptions:function(){return this.$store.state.navigator.options}}}},function(t,e,n){"use strict";n.r(e);var r=n(21),a=n.n(r);for(var i in r)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e.default=a.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"top-page",data:function(){return{title:"WebAuthn Demo"}},methods:{login:function(){this.$router.push({name:"login"})},register:function(){this.$router.push({name:"register"})},reissue:function(){this.$ons.notification.alert("Temporarily unavailable.")}}}},function(t,e,n){"use strict";n.r(e);var r=n(23),a=n.n(r);for(var i in r)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e.default=a.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"login-page"}},function(t,e,n){"use strict";n.r(e);var r=n(25),a=n.n(r);for(var i in r)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e.default=a.a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,a,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(59)),o=n(60);function u(t){return function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(a,i){try{var s=e[a](i),o=s.value}catch(t){return void n(t)}if(!s.done)return Promise.resolve(o).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(o)}("next")}))}}console.log(s),e.default={name:"register-page",components:{},data:function(){return{inputData:{username:"",emailAddress:"",relyingParty:{name:"Webauthn Demo App",id:"lorimay21.github.io"},attachment:"any",attestation:"none"},userDetails:null,savedCred:null,assertion:null}},computed:{formattedUserDetails:function(){return this.userDetails?i({},this.userDetails,{id:(0,o.ab2b64)(this.userDetails.id)}):null},formattedSavedCred:function(){return this.savedCred?(0,o.encodeCredential)(this.savedCred):null},formattedAssertion:function(){return this.assertion?(0,o.encodeAssertion)(this.assertion):null}},methods:{register:(a=u(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={rp:this.inputData.relyingParty,pubKeyCredParams:s.pubKeyCredParams,timeout:6e4,attestation:this.inputData.attestation,authenticatorSelection:"any"===this.inputData.attachment?void 0:i({},s.authenticatorSelection,{authenticatorAttachment:this.inputData.attachment}),challenge:(0,o.generateChallenge)(),user:{id:(0,o.generateId)(),name:this.inputData.emailAddress,displayName:this.inputData.username}},console.log({publicKey:e}),t.prev=2,t.next=5,navigator.credentials.create({publicKey:e});case 5:n=t.sent,this.savedCred=n,this.userDetails=e.user,console.log("Credential obtained",this.savedCred),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),console.error(t.t0.message);case 14:case"end":return t.stop()}}),t,this,[[2,11]])}))),function(){return a.apply(this,arguments)}),authenticate:(r=u(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.savedCred){t.next=3;break}return alert("You must register first"),t.abrupt("return");case 3:return e={rp:this.inputData.relyingParty,pubKeyCredParams:s.pubKeyCredParams,attestation:s.attestation,timeout:6e4,challenge:(0,o.generateChallenge)(),allowCredentials:[{id:this.savedCred.rawId,type:s.credentialType}]},console.log({publicKey:e}),console.log(JSON.stringify({publicKey:e})),t.prev=6,t.next=9,navigator.credentials.get({publicKey:e});case 9:n=t.sent,console.log("Assertion obtained",n),this.assertion=n,t.next=17;break;case 14:t.prev=14,t.t0=t.catch(6),console.error(t.t0.message);case 17:case"end":return t.stop()}}),t,this,[[6,14]])}))),function(){return r.apply(this,arguments)})}}},,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return a}));var r=function(){var t=this.$createElement,e=this._self._c||t;return e("v-ons-splitter",[e("v-ons-splitter-content",[e("v-ons-navigator",{attrs:{swipeable:"","swipe-target-width":"50px","page-stack":this.pageStack,options:this.navOptions}})],1)],1)},a=[];r._withStripped=!0},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return a}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-ons-page",[n("v-ons-toolbar"),t._v(" "),n("section",[n("div",{staticClass:"container"},[n("div",{staticClass:"text-center m-5"},[n("h1",[t._v(t._s(t.title))])]),t._v(" "),n("div",{staticClass:"pt-4"},[n("div",{staticClass:"mx-5 mb-2 text-center"},[n("b-button",{staticClass:"w-50",attrs:{variant:"primary"},on:{click:t.login}},[t._v("Login")])],1),t._v(" "),n("div",{staticClass:"mx-5 mb-2 text-center"},[n("b-button",{staticClass:"w-50",attrs:{variant:"primary"},on:{click:t.register}},[t._v("Register")])],1),t._v(" "),n("div",{staticClass:"mx-5 mb-2 text-center"},[n("b-button",{staticClass:"w-50",attrs:{variant:"primary"},on:{click:t.reissue}},[t._v("Re-issue")])],1)])])])],1)},a=[];r._withStripped=!0},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return a}));var r=function(){var t=this.$createElement,e=this._self._c||t;return e("v-ons-page",[e("v-ons-toolbar"),this._v(" "),e("section",[e("div",{staticClass:"container"})])],1)},a=[];r._withStripped=!0},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return a}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-ons-page",[n("v-ons-toolbar"),t._v(" "),n("section",[n("div",{staticClass:"container"},[n("h1",[t._v("Vue Webauthn demo")]),t._v(" "),n("div",[n("div",[n("label",[t._v("\n              Username *\n              "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputData.username,expression:"inputData.username"}],domProps:{value:t.inputData.username},on:{input:function(e){e.target.composing||t.$set(t.inputData,"username",e.target.value)}}})])]),t._v(" "),n("div",[n("label",[t._v("\n              Email *\n              "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputData.emailAddress,expression:"inputData.emailAddress"}],domProps:{value:t.inputData.emailAddress},on:{input:function(e){e.target.composing||t.$set(t.inputData,"emailAddress",e.target.value)}}})])]),t._v(" "),n("hr"),t._v(" "),n("button",{attrs:{disabled:t.inputData.username&&0==t.inputData.emailAddress},on:{click:t.register}},[t._v("\n            Register\n          ")])]),t._v(" "),t.userDetails?n("div",[n("button",{on:{click:t.authenticate}},[t._v("Sign in")])]):t._e(),t._v(" "),n("div",{staticClass:"output"},[t.formattedUserDetails?n("pre",[n("code",[t._v(t._s(t.formattedUserDetails))])]):t._e(),t._v(" "),t.formattedSavedCred?n("pre",[n("span",[t._v("// send this to server to verify and enroll the key")]),t._v("\n"),n("code",[t._v(t._s(t.formattedSavedCred))]),t._v("\n\t\t\t")]):t._e(),t._v(" "),t.formattedAssertion?n("pre",[n("span",[t._v("// send this to server to verify a sign-in")]),t._v("\n"),n("code",[t._v(t._s(t.formattedAssertion))]),t._v("\n\t\t\t")]):t._e()])])])],1)},a=[];r._withStripped=!0},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(7)),a=s(n(52)),i=s(n(53));function s(t){return t&&t.__esModule?t:{default:t}}r.default.use(a.default);e.default=new a.default.Store({modules:{navigator:i.default},state:{},getters:{},actions:{},mutations:{}})},,,,,,,,,,function(t,e,n){t.exports=n(45)},function(t,e,n){"use strict";var r=l(n(33)),a=l(n(7)),i=l(n(47)),s=n(81);n(48),n(49),n(50);var o=l(n(51)),u=l(n(34)),c=l(n(54));function l(t){return t&&t.__esModule?t:{default:t}}n(79),n(80),r.default.platform.isIPhoneX()&&(document.documentElement.setAttribute("onsflag-iphonex-portrait",""),document.documentElement.setAttribute("onsflag-iphonex-landscape","")),a.default.use(s.BootstrapVue),a.default.use(i.default),new a.default({el:"#app",store:u.default,router:c.default,template:"<app></app>",components:{App:o.default}})},,,,,,function(t,e,n){"use strict";n.r(e);var r=n(29),a=n(18);for(var i in a)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(i);var s=n(3),o=Object(s.a)(a.default,r.a,r.b,!1,null,null,null);o.options.__file="src/App.vue",e.default=o.exports},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={push:function(t,e){t.stack.push(e)},pop:function(t){t.stack.length>1&&t.stack.pop()},replace:function(t,e){t.stack.pop(),t.stack.push(e)},reset:function(t,e){t.stack=Array.isArray(e)?e:[e||t.stack[0]]},options:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.options=Object.assign(t.options,e)}};e.default={namespaced:!0,state:{stack:[],options:{animation:"slide"}},getters:{},actions:{},mutations:r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=c(n(7)),a=c(n(55)),i=c(n(34)),s=c(n(56)),o=c(n(57)),u=c(n(58));function c(t){return t&&t.__esModule?t:{default:t}}r.default.use(a.default);var l=[{path:"/",name:"top",component:s.default},{path:"/login",name:"login",component:o.default},{path:"/register",name:"register",component:u.default}],d=new a.default({routes:l});d.beforeEach((function(t,e,n){i.default.commit("navigator/reset",t.matched.map((function(t){return t.components.default}))),n()})),e.default=d},,function(t,e,n){"use strict";n.r(e);var r=n(30),a=n(20);for(var i in a)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(i);var s=n(3),o=Object(s.a)(a.default,r.a,r.b,!1,null,null,null);o.options.__file="src/pages/Top.vue",e.default=o.exports},function(t,e,n){"use strict";n.r(e);var r=n(31),a=n(22);for(var i in a)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(i);var s=n(3),o=Object(s.a)(a.default,r.a,r.b,!1,null,null,null);o.options.__file="src/pages/Login.vue",e.default=o.exports},function(t,e,n){"use strict";n.r(e);var r=n(32),a=n(24);for(var i in a)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(i);var s=n(3),o=Object(s.a)(a.default,r.a,r.b,!1,null,null,null);o.options.__file="src/pages/Register.vue",e.default=o.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.pubKeyCredParams=[{type:"public-key",alg:-7}],e.attestation="indirect",e.timeout=6e4,e.transports=["usb","nfc","ble"],e.credentialType="public-key",e.authenticatorSelection={authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"required"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.ab2str=o,e.ab2b64=u,e.ab2json=c,e.ab2hex=l,e.cbor2json=function(t){return s.default.decode(l(t))},e.encodeCredential=function(t){return r({},t,{rawId:u(t.rawId),response:r({},t.response,{attestationObject:u(t.response.attestationObject),clientDataJSON:c(t.response.clientDataJSON)})})},e.encodeAssertion=function(t){return r({},t,{rawId:u(t.rawId),response:r({},t.response,{authenticatorData:u(t.response.authenticatorData),clientDataJSON:c(t.response.clientDataJSON),signature:u(t.response.signature)})})},e.generateId=function(){for(var t=new Uint8Array(16),e=0;e<16;e++)t[e]=Math.round(255*Math.random());return t},e.generateChallenge=function(){for(var t=new Uint8Array(32),e=0;e<32;e++)t[e]=Math.round(255*Math.random());return t.buffer};var a,i=n(61),s=(a=i)&&a.__esModule?a:{default:a};function o(t){return String.fromCharCode.apply(null,new Uint8Array(t))}function u(t){return btoa(o(t))}function c(t){return JSON.parse(o(t))}function l(t){return Array.prototype.map.call(new Uint8Array(t),(function(t){return("00"+t.toString(16)).slice(-2)})).join("")}},,,,,,,function(t,e){},,function(t,e){}]),[[44,1,2]]]);